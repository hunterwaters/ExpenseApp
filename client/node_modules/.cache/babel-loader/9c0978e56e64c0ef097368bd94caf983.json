{"ast":null,"code":"var _jsxFileName = \"/Users/hunterrwaters/Desktop/expense-tracker/client/src/components/Home.js\";\nimport React from 'react';\nimport { getFromStorage, setInStorage } from './utils/storage';\nexport class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      token: '',\n      signupError: '',\n      signinError: '',\n      signInEmail: '',\n      signInPassword: '',\n      signupFirstName: '',\n      signupLastName: '',\n      signupEmail: '',\n      signupPassword: ''\n    };\n    this.onTextboxChangeSignInEmail = this.onTextboxChangeSignInEmail.bind(this);\n    this.onTextboxChangeSignInPassword = this.onTextboxChangeSignInPassword.bind(this);\n    this.onTextboxChangeSignUpEmail = this.onTextboxChangeSignUpEmail.bind(this);\n    this.onTextboxChangeSignUpPassword = this.onTextboxChangeSignUpPassword.bind(this);\n    this.onTextboxChangeSignUpFirstName = this.onTextboxChangeSignUpFirstName.bind(this);\n    this.onTextboxChangeSignUpLastName = this.onTextboxChangeSignUpLastName.bind(this);\n    this.onSignIn = this.onSignIn.bind(this);\n    this.onSignUp = this.onSignUp.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  componentDidMount() {\n    const obj = getFromStorage('expense_trackerr');\n\n    if (obj && obj.token) {\n      const {\n        token\n      } = obj;\n      fetch('/api/account/verify?token=' + token).then(res => res.json()).then(json => {\n        if (json.success) {\n          this.setState({\n            token,\n            isLoading: false\n          });\n        } else {\n          this.setState({\n            isLoading: false\n          });\n        }\n      });\n    } else {\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n\n  onTextboxChangeSignInEmail(event) {\n    this.setState({\n      signInEmail: event.target.value\n    });\n  }\n\n  onTextboxChangeSignInPassword(event) {\n    this.setState({\n      signInPassword: event.target.value\n    });\n  }\n\n  onTextboxChangeSignUpEmail(event) {\n    this.setState({\n      signupEmail: event.target.value\n    });\n  }\n\n  onTextboxChangeSignUpPassword(event) {\n    this.setState({\n      signupPassword: event.target.value\n    });\n  }\n\n  onTextboxChangeSignUpFirstName(event) {\n    this.setState({\n      signupFirstName: event.target.value\n    });\n  }\n\n  onTextboxChangeSignUpLastName(event) {\n    this.setState({\n      signupLastName: event.target.value\n    });\n  }\n\n  onSignUp() {\n    //grab state\n    const {\n      signupFirstName,\n      signupLastName,\n      signupEmail,\n      signupPassword\n    } = this.state;\n    this.setState({\n      isLoading: true\n    }); //POST request to backend\n    //eslint-disable-next-line\n\n    fetch('/api/account/signup', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        firstName: signupFirstName,\n        lastName: signupLastName,\n        email: signupEmail,\n        password: signupPassword\n      })\n    }).then(res => res.json()).then(json => {\n      if (json.success) {\n        this.setState({\n          signupError: json.message,\n          isLoading: false,\n          signupEmail: '',\n          signupPassword: '',\n          signupFirstName: '',\n          signupLastName: ''\n        });\n      } else {\n        this.setState({\n          signupError: json.message,\n          isLoading: false\n        });\n      }\n    });\n  }\n\n  onSignIn() {\n    //grab state\n    const {\n      signInEmail,\n      signInPassword\n    } = this.state;\n    this.setState({\n      isLoading: true\n    }); //POST request to backend\n    //eslint-disable-next-line\n\n    fetch('/api/account/signin', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        email: signInEmail,\n        password: signInPassword\n      })\n    }).then(res => res.json()).then(json => {\n      if (json.success) {\n        setInStorage('expense_tracker', {\n          token: json.token\n        });\n        this.setState({\n          signinError: json.message,\n          isLoading: false,\n          signInEmail: '',\n          signInPassword: '',\n          token: json.token\n        });\n      } else {\n        this.setState({\n          signinError: json.message,\n          isLoading: false\n        });\n      }\n    }); //grab state\n    //POST request to backend\n  }\n\n  logout() {\n    this.setState({\n      isLoading: true\n    });\n    const obj = getFromStorage('expense_tracker');\n\n    if (obj && obj.token) {\n      const {\n        token\n      } = obj; //verify token\n\n      fetch('/api/account/logout?token=' + token).then(res => res.json()).then(json => {\n        if (json.success) {\n          this.setState({\n            token: '',\n            isLoading: false\n          });\n        } else {\n          this.setState({\n            isLoading: false\n          });\n        }\n      });\n    } else {\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n\n  render() {\n    const {\n      isLoading,\n      token,\n      signinError,\n      signInEmail,\n      signInPassword,\n      signupFirstName,\n      signupLastName,\n      signupEmail,\n      signupPassword,\n      signupError\n    } = this.state;\n\n    if (isLoading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 26\n        }\n      }, \"Loading...\"));\n    }\n\n    if (!token) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }\n      }, signinError ? /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 33\n        }\n      }, signinError) : null, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"para\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 25\n        }\n      }, \"Sign In\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: signInEmail,\n        className: \"signup\",\n        onChange: this.onTextboxChangeSignInEmail,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: signInPassword,\n        onChange: this.onTextboxChangeSignInPassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.onSignIn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 25\n        }\n      }, \"Sign In\"))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 17\n        }\n      }, signupError ? /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 33\n        }\n      }, signupError) : null, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"para\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 25\n        }\n      }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"First Name\",\n        value: signupFirstName,\n        className: \"signup\",\n        onChange: this.onTextboxChangeSignUpFirstName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Last Name\",\n        className: \"signup\",\n        value: signupLastName,\n        onChange: this.onTextboxChangeSignUpLastName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: signupEmail,\n        className: \"signup\",\n        onChange: this.onTextboxChangeSignUpEmail,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        className: \"signup\",\n        value: signupPassword,\n        onChange: this.onTextboxChangeSignUpPassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.onSignUp,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 25\n        }\n      }, \"Sign Up\")));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }\n    }, \"Account\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }\n    }, \"Logout\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/hunterrwaters/Desktop/expense-tracker/client/src/components/Home.js"],"names":["React","getFromStorage","setInStorage","Home","Component","constructor","props","state","isLoading","token","signupError","signinError","signInEmail","signInPassword","signupFirstName","signupLastName","signupEmail","signupPassword","onTextboxChangeSignInEmail","bind","onTextboxChangeSignInPassword","onTextboxChangeSignUpEmail","onTextboxChangeSignUpPassword","onTextboxChangeSignUpFirstName","onTextboxChangeSignUpLastName","onSignIn","onSignUp","logout","componentDidMount","obj","fetch","then","res","json","success","setState","event","target","value","method","headers","body","JSON","stringify","firstName","lastName","email","password","message","render"],"mappings":"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","sourcesContent":["import React  from 'react';\n\nimport {\n    getFromStorage,\n    setInStorage,\n} from './utils/storage';\n\n export class Home extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            isLoading: true,\n            token: '',\n            signupError: '',\n            signinError: '',\n            signInEmail: '',\n            signInPassword: '',\n            signupFirstName: '',\n            signupLastName: '',\n            signupEmail: '',\n            signupPassword: '',\n        };\n\n        this.onTextboxChangeSignInEmail = this.onTextboxChangeSignInEmail.bind(this);\n        this.onTextboxChangeSignInPassword = this.onTextboxChangeSignInPassword.bind(this);\n        this.onTextboxChangeSignUpEmail = this.onTextboxChangeSignUpEmail.bind(this);\n        this.onTextboxChangeSignUpPassword = this.onTextboxChangeSignUpPassword.bind(this);\n        this.onTextboxChangeSignUpFirstName = this.onTextboxChangeSignUpFirstName.bind(this);\n        this.onTextboxChangeSignUpLastName = this.onTextboxChangeSignUpLastName.bind(this);\n\n        this.onSignIn = this.onSignIn.bind(this);\n        this.onSignUp = this.onSignUp.bind(this);\n        this.logout = this.logout.bind(this);\n    }\n    componentDidMount() {\n        const obj = getFromStorage('expense_trackerr');\n        if(obj && obj.token){\n            const { token } = obj;\n            fetch('/api/account/verify?token=' + token)\n            .then(res => res.json())\n            .then(json => {\n                if(json.success) {\n                    this.setState({\n                        token,\n                        isLoading: false\n                    })\n                } else {\n                    this.setState({\n                        isLoading: false\n                    })\n                }\n            })\n        } else {\n            this.setState({\n                isLoading: false\n            })\n        }\n    }\n\n    onTextboxChangeSignInEmail(event) {\n        this.setState({\n            signInEmail: event.target.value,\n        })\n    }\n\n    onTextboxChangeSignInPassword(event) {\n        this.setState({\n            signInPassword: event.target.value,\n        })\n    }\n\n    onTextboxChangeSignUpEmail(event) {\n        this.setState({\n            signupEmail: event.target.value,\n        })\n    }\n\n    onTextboxChangeSignUpPassword(event) {\n        this.setState({\n            signupPassword: event.target.value,\n        })\n    }\n\n    onTextboxChangeSignUpFirstName(event) {\n        this.setState({\n            signupFirstName: event.target.value,\n        })\n    }\n\n    onTextboxChangeSignUpLastName(event) {\n        this.setState({\n            signupLastName: event.target.value,\n        })\n    }\n\n    onSignUp() {\n        //grab state\n        const {\n            signupFirstName,\n            signupLastName,\n            signupEmail,\n            signupPassword\n        } = this.state;\n\n        this.setState({\n            isLoading: true,\n        })\n        \n        \n        //POST request to backend\n        //eslint-disable-next-line\n        fetch('/api/account/signup', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                firstName: signupFirstName,\n                lastName: signupLastName,\n                email: signupEmail,\n                password:  signupPassword,\n            }),\n        }) .then( res => res.json())\n        .then(json => {\n                if(json.success) {\n                    this.setState({\n                        signupError: json.message,\n                        isLoading: false,\n                        signupEmail: '',\n                        signupPassword: '',\n                        signupFirstName: '',\n                        signupLastName: '',                    });\n                }else {\n                    this.setState({\n                        signupError: json.message,\n                        isLoading: false\n                    });\n                }\n        })\n    }\n\n    onSignIn() {\n        //grab state\n        const {\n            signInEmail,\n            signInPassword\n        } = this.state;\n\n        this.setState({\n            isLoading: true,\n        })\n          //POST request to backend\n          //eslint-disable-next-line\n          fetch('/api/account/signin', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: signInEmail,\n                password:  signInPassword,\n            }),\n        }) .then( res => res.json())\n        .then(json => {\n                if(json.success) {\n                    setInStorage('expense_tracker',  { token: json.token});\n                    this.setState({\n                        signinError: json.message,\n                        isLoading: false,\n                        signInEmail: '',\n                        signInPassword: '',\n                        token: json.token\n                        });\n                }else {\n                    this.setState({\n                        signinError: json.message,\n                        isLoading: false\n                    });\n                }\n        })\n        //grab state\n        //POST request to backend\n    }\n    logout() {\n        this.setState({\n            isLoading: true,\n        })\n        const obj = (getFromStorage('expense_tracker')) ;\n        if(obj && obj.token){\n            const { token } = obj;\n            //verify token\n            fetch('/api/account/logout?token=' + token)\n            .then(res => res.json())\n            .then(json => {\n                if(json.success) {\n                    this.setState({\n                        token: '',\n                        isLoading: false\n                    })\n                } else {\n                    this.setState({\n                        isLoading: false\n                    })\n                }\n            })\n        } else {\n            this.setState({\n                isLoading: false\n            })\n        }\n    }\n\n    render() {\n        const {\n            isLoading,\n            token,\n            signinError,\n            signInEmail,\n            signInPassword,\n            signupFirstName,\n            signupLastName,\n            signupEmail,\n            signupPassword,\n            signupError,\n\n        } = this.state;\n\n        if(isLoading) {\n            return (<div><p>Loading...</p></div>);\n        }\n\n        if(!token) {\n            return (\n                <>\n                <div>\n                    <div className = \"signin\">\n                        {\n                            (signinError) ? (\n                                <p>{signinError}</p>\n                            ) :(null)\n                        }\n                        <p className = \"para\" >Sign In</p>\n                        <input type = \"email\" placeholder = \"Email\" value = {signInEmail} className = \"signup\" onChange={this.onTextboxChangeSignInEmail} />\n                        <input type = \"password\" placeholder = \"Password\" value = {signInPassword} onChange={this.onTextboxChangeSignInPassword} />\n                        <button onClick = {this.onSignIn}>Sign In</button>\n                    </div>\n                </div>\n                <br />\n                <br/>\n                <div className = \"signup\">\n                {\n                            (signupError) ? (\n                                <p>{signupError}</p>\n                            ) :(null)\n                        }\n                        <p className = \"para\">Sign Up</p>\n                        <input type = \"text\" placeholder = \"First Name\" value = {signupFirstName}  className = \"signup\" onChange={this.onTextboxChangeSignUpFirstName} />\n                        <input type = \"text\" placeholder = \"Last Name\" className = \"signup\" value = {signupLastName} onChange = {this.onTextboxChangeSignUpLastName} />\n                        <input type = \"email\" placeholder = \"Email\" value = {signupEmail} className = \"signup\" onChange = {this.onTextboxChangeSignUpEmail} />\n                        <input type = \"password\" placeholder = \"Password\" className = \"signup\" value = {signupPassword} onChange = {this.onTextboxChangeSignUpPassword} />\n                        <button onClick = {this.onSignUp}>Sign Up</button>\n                       \n                    </div>\n    </>\n            )\n        }\n        return (\n            <div>\n            <div>Account</div>\n            <button onClick = {this.logout}>Logout</button>\n            </div>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}